const quotes = [
    'It is not that we have a short time to live, but that we waste much of it.',
    'He suffers more than necessary, who suffers before it is necessary.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'He who fears death will never do anything worth of a man who is alive.',
    'It does not matter what you bear, but how you bear it.',
    'The best revenge is to be unlike him who performed the injustice.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'The best revenge is to be unlike him who performed the injustice.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'It is not that we have a short time to live, but that we waste much of it.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    'The best revenge is to be unlike him who performed the injustice.',
    'He who fears death will never do anything worth of a man who is alive.',
    'Waste no more time arguing about what a good man should be. Be one.',
    'It does not matter what you bear, but how you bear it.',
    'Man is affected not by events, but by the view he takes of them.',
    
];


let words = [];
let wordIndex = 0;
let startTime = 0;
let timerInterval;

const quoteElement = document.getElementById('quote');
const messageElement = document.getElementById('message');
const typedValueElement = document.getElementById('typed-value');
const startButton = document.getElementById('start');
const timerElement = document.getElementById('timer');

startButton.addEventListener('click', function () {
    const quoteIndex = Math.floor(Math.random() * quotes.length);
    const quote = quotes[quoteIndex];
    words = quote.split(' ');
    wordIndex = 0;

    const spanWords = words.map(word => `<span>${word}</span>`);
    quoteElement.innerHTML = spanWords.join(' ');

    quoteElement.childNodes[0].classList.add('highlight');
    messageElement.innerText = '';

    typedValueElement.value = '';
    typedValueElement.classList.remove('error');
    typedValueElement.focus();

    startTime = new Date().getTime();
    clearInterval(timerInterval);
    timerInterval = setInterval(updateTimer, 1000);
});

function updateTimer() {
    const elapsedTime = Math.floor((new Date().getTime() - startTime) / 1000);
    timerElement.innerText = `Time: ${elapsedTime}s`;
}

typedValueElement.addEventListener('input', () => {
    const currentWord = words[wordIndex];
    const typedValue = typedValueElement.value.trim();

    if (typedValue === currentWord && wordIndex === words.length - 1) {
        const elapsedTime = Math.floor((new Date().getTime() - startTime) / 1000);
        const message = `CONGRATULATIONS! You finished in ${elapsedTime} seconds.`;
        messageElement.innerText = message;
        clearInterval(timerInterval);
    } else if (typedValue.endsWith(' ') && typedValue === currentWord) {
        typedValueElement.value = '';
        wordIndex++;
        for (const wordElement of quoteElement.childNodes) {
            wordElement.classList.remove('highlight');
        }
        quoteElement.childNodes[wordIndex].classList.add('highlight');
    } else if (currentWord.startsWith(typedValue)) {
        typedValueElement.classList.remove('error');
    } else {
        typedValueElement.classList.add('error');
    }
});
